<section xml:id="sec_cont_closed_sets">
  <title>Continuity and Closed Sets</title>
  <p>
    Recall that we showed that a function <m>f</m> from a metric space <m>(X,d_X)</m> to a metric space <m>(Y,d_Y)</m> is continuous if and only if
    <m>f^{-1}(O)</m> is open for every open set <m>O</m> in <m>Y</m>.
    We might conjecture that a similar result holds for closed sets.
    Since closed sets are complements of open sets,
    to make this connection we will want to know how <m>X \setminus f^{-1}(B)</m> is related to
    <m>f^{-1}(Y \setminus B)</m> for <m>B \subset Y</m>.
  </p>

  <activity xml:id="act_CS_1">
  <introduction>
    <p>
      Let <m>f</m> be a function <m>f</m> from a metric space <m>(X,d_X)</m> to a metric space <m>(Y,d_Y)</m>,
      and let <m>B</m> be a subset of <m>Y</m>.
    </p>
  </introduction>
      <task>
        <introduction>
          <p>
            Let <m>x \in X \setminus f^{-1}(B)</m>.
          </p>
        </introduction>
            <task>
              <statement>
                <p>
                  What does this tell us about <m>f(x)</m>?
                </p>
              </statement>
            </task>
            <task>
              <statement>
                <p>
                  What can we conclude about the relationship between
                  <m>X \setminus f^{-1}(B)</m> and <m>f^{-1}(Y \setminus B)</m>?
                </p>
              </statement>
            </task>
      </task>

      <task>
        <introduction>
          <p>
            Let <m>x \in f^{-1}(Y \setminus B)</m>.
          </p>
        </introduction>
            <task>
              <statement>
                <p>
                  What does this tell us about <m>f(x)</m>?
                </p>
              </statement>
            </task>
            <task>
              <statement>
                <p>
                  What can we conclude about the relationship between
                  <m>X \setminus f^{-1}(B)</m> and <m>f^{-1}(Y \setminus B)</m>?
                </p>
              </statement>
            </task>
      </task>
      <task>
        <statement>
          <p>
            What is the relationship between
            <m>X \setminus f^{-1}(B)</m> and <m>f^{-1}(Y \setminus B)</m>?
          </p>
        </statement>
      </task>
    
  </activity>

  <p>
    Now we can consider the issue of continuity and closed sets.
  </p>

  <activity xml:id="act_CS_2">
    <introduction>
    <p>
      Let <m>f</m> be a function from a metric space <m>(X,d_X)</m> to a metric space <m>(Y,d_Y)</m>.
    </p>
    </introduction>
      <task>
        <statement>
          <p>
            Assume that <m>f</m> is continuous and that <m>C</m> is a closed set in <m>Y</m>.
            How does the result of <xref ref="act_CS_1"/>
            tell us that <m>f^{-1}(C)</m> is closed in <m>X</m>?
          </p>
        </statement>
      </task>
      <task>
        <statement>
          <p>
            Now assume that <m>f^{-1}(C)</m> is closed in <m>X</m> whenever <m>C</m> is closed in <m>Y</m>.
            How does the result of <xref ref="act_CS_1"/>
            tell us that <m>f</m> is a continuous function?
          </p>
        </statement>
      </task>
    
  </activity>

  <p>
    The result of <xref ref="act_CS_2"/>
    is summarized in the following theorem.
  </p>
  
  <theorem xml:id="thm_closed_sets_continuity_MS">
    <statement>
      <p>
        Let <m>f</m> be a function from a metric space <m>(X,d_X)</m> to a metric space <m>(Y,d_Y)</m>.
        Then <m>f</m> is continuous if and only if
        <m>f^{-1}(C)</m> is closed in <m>X</m> whenever <m>C</m> is a closed set in <m>Y</m>.
      </p>
    </statement>
  </theorem>
</section>